# Game Engine

## Краткое описание

Данный репозиторий содержит решение (solution) Microsoft Visual Studio 2022, выполняющее две роли:

<ol>
	<li> Адаптор-обёртка для DirectX (Direct2D/DirectWrite) и WinAPI</li>
	<li> Небольшая библиотека классов, реализующая базовые аспекты игр</li>
</ol>

Текущий проект написан на C++ с использованием, преимущественно, стандарта 20-го года и преследует исключительно учебные цели. Тем не менее, он является вполне самостоятельным и функционирующим игровым 2D-движком, что, в частности, доказывается примерами:

<ol>
	<li> Arkanoid - вариант известной игры с разбиванием блоков шариком</li>
	<li> PaintItGit - пошаговое закрашивание блоков с версионным контролем</li>
	<li> Starfield - простое приложение с случайно генерируемым звёздным полем и управляемой камерой</li>
</ol>

## Функционал

Здесь можно найти реализацию:
- окон на WinAPI (класс <code>GameEngine::MainWindow</code> в проекте MainWindow) с отслеживанием нажатых клавиш и положения мыши
- матриц (класс <code>GameEngine::Geometry::Matrices::Matrix</code> в проекте GameEngine), способных вычисляться во время компиляции
- основных аффинных преобразований с использованием матриц
- математического вектора (класс <code>GameEngine::Geometry::Vector2D</code> в проекте GameEngine) для двумерного пространства
- игрового 3-х этапного (Proccess Input -> Update -> Render) игрового цикла (класс <code>GameEngine::Game</code>)
- механизма синхронизации скорости генерации кадров и обновления состояния игры (класс <code>GameEngine::FrameTimer</code> в проекте GameEngine)
- отрисовки графических примитивов, текста, битмап с возможностью задания "прозрачных" пикселей (класс <code>GameEngine::GraphicsDirect2D</code> в проекте GameEngine)
- автоматического выделения и освобождения ресурсов, предоставляемых Direct2D (класс <code>GameEngine::Direct2DFactory</code> в проекте GameEngine)
- исключений для обработки ошибок в WinAPI (класс <code>GameEngine::WinApiException</code> в проекте GameEngine) и DirectX (класс <code>GameEngine::Direct2dException</code> в проекте GameEngine)

## Установка и внедрение в другие проекты

Если установлен Microsoft Visual Studio 2022, то достаточно скачать содержимое репозитория и открыть файл решения GameEngine.sln.
При этом необязательными проектами являются Matrices, Arkanoid, PaintItGit, Starfield, MainWindow. Все перечисленные подпроекты являются зависимыми от проекта GameEngine и включены в общее решение, поэтому отдельно их собрать не получится.

Затем, чтобы получить исполняемый файл, нужно нажать "Сборка"->"Собрать решение", после чего можно будет запустить либо одно из представленных приложений в репозитории, либо сам игровой движок (будет черное окно).

Все файлы представляют собой исходный код, связанный между собой директивой <code>#include</code>, поэтому их можно свобдно использовать в других программах при условии соблюдения <code>#include</code> зависимостей.

